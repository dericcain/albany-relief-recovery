webpackJsonp([4],{32:function(e,n,a){"use strict";function s(){o.a.get("/map/needs").then(function(e){i(e.data)})["catch"](function(e){})}function i(e){var n={lat:31.5744842,lng:-84.1287211},a=new google.maps.Map(document.getElementById("map"),{zoom:12,center:n,scrollwheel:!1});_.forEach(e,function(e,n){var s="markers/brown_MarkerW.png";if(null!=e.lat&&null!=e.lng){s=e.is_complete?"markers/green_MarkerC.png":e.is_pending?"markers/orange_MarkerP.png":e.needs_met?"markers/blue_MarkerM.png":"markers/brown_MarkerW.png";var i={lat:parseFloat(e.lat),lng:parseFloat(e.lng)},d=new google.maps.InfoWindow({content:t(e)}),l=new google.maps.Marker({position:i,map:a,title:"Case# "+e.id,infoWindow:d,icon:s});google.maps.event.addListener(l,"click",function(){this.infoWindow.open(a,this)})}})}function t(e){var n=e.address?e.address:"",a=e.zip?e.zip:"",s="";e.physical_needs.length>0&&_.forEach(e.physical_needs,function(n,a){s+='<div class="checkbox">\n                          <label><input type="checkbox" class="physical_needs" \n                            data-need_id="'+e.id+'"\n                            data-physical_needs_id="'+n.id+'"\n                            value="">'+_.capitalize(n.name)+"</label>\n                        </div>"});var i='<div id="content">';return i+=e.is_complete?'<div id="siteNotice"><span class="label label-success">Complete</span></div>':e.is_pending?'<div id="siteNotice"><span class="label label-warning">Pending</span></div>':e.needs_met?'<div id="siteNotice"><span class="label label-info">Needs Met</span></div>':'<div id="siteNotice"><span class="label label-default">Waiting</span></div>',i+='<h1 class="heading" class="firstHeading">Case# '+e.id+'</h1>\n                <div id="bodyContent">',(e.first_name||e.last_name)&&(i+="<p>Name: <strong>"+e.first_name+" "+e.last_name+"</strong></p>"),i+="<p>Address: <strong>"+n+", "+a+"</strong></p>",e.phone&&(i+="<p>Phone: "+e.phone+"</p>"),""!=s&&(i+=s),i+="</div>\n            </div>"}function d(){$("body").on("change",".physical_needs",function(){var e=$(this).data("need_id"),n=$(this).data("physical_needs_id"),a=$(this).prop("checked");o.a.post("/needs/"+e,{need_met:!0,physical_need_id:n,need_complete:a}).then(function(e){toastr.success("The job has been marked complete.")})["catch"](function(e){})})}var l=a(1),o=a.n(l);$("#map"),$(".physical_needs");s(),d()}},[32]);